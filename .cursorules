# Cursor Rules –¥–ª—è Peak Flow Diary - MONO-REPO —Å Mobile/Web —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê:

### 1. –í–ï–¢–ö–ò –ò –î–ï–ü–õ–û–ô:
- **main** = –¢–û–õ–¨–ö–û –í–ï–ë! –õ—é–±–æ–π push ‚Üí –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞ peakflow.oxia.life
- **mobile/staging** = –º–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **mobile/production** = –≥–æ—Ç–æ–≤—ã–µ —Ä–µ–ª–∏–∑—ã –¥–ª—è App Store / Google Play
- **feature/** = –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

### 2. –ü–ï–†–ï–î COMMIT –í main:
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ: `npm run web`
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–æ–±–∏–ª—å–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ñ–∏—á –±–µ–∑ Platform.OS –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ª–æ–º–∞—é—Ç –≤–µ–±

### 3. –ü–ï–†–ï–î PUSH –í main:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run safe-push` –≤–º–µ—Å—Ç–æ `git push`
- ‚úÖ –ò–ª–∏ –¥–≤–∞–∂–¥—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É: `npm run check:branch`

### 4. Platform-specific –∫–æ–¥:
```typescript
// –ü–†–ê–í–ò–õ–¨–ù–û:
if (Platform.OS !== 'web') {
  // –ú–æ–±–∏–ª—å–Ω—ã–π –∫–æ–¥
}

// –ò–õ–ò —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
// Component.tsx      - –æ–±—â–∏–π
// Component.web.tsx  - –≤–µ–±
// Component.ios.tsx  - iOS
// Component.android.tsx - Android
```

### 5. –ó–ê–ü–†–ï–©–ï–ù–û:
- ‚ùå –ü—É—à–∏—Ç—å –º–æ–±–∏–ª—å–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥ –≤ main –±–µ–∑ Platform.OS –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å google-play-service-account.json
- ‚ùå –î–µ–ø–ª–æ–∏—Ç—å –≤–µ–± –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ mobile/* –≤–µ—Ç–∫–∞—Ö

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
peak-flow-diary/
‚îú‚îÄ‚îÄ src/              # –û–±—â–∏–π –∫–æ–¥
‚îú‚îÄ‚îÄ eas.json          # –ö–æ–Ω—Ñ–∏–≥ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–±–æ—Ä–æ–∫
‚îú‚îÄ‚îÄ app.config.js     # –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
‚îú‚îÄ‚îÄ BRANCH_STRATEGY.md # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ scripts/safe-push.sh # –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã:

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- `npm run web` - –∑–∞–ø—É—Å–∫ –≤–µ–±–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- `npm start` - –∑–∞–ø—É—Å–∫ –º–æ–±–∏–ª—å–Ω—ã—Ö (Expo Go)
- `npm run ios` - –∑–∞–ø—É—Å–∫ iOS simulator
- `npm run android` - –∑–∞–ø—É—Å–∫ Android emulator

### –ú–æ–±–∏–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏:
- `npm run mobile:preview` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å–±–æ—Ä–∫–∞
- `npm run mobile:build:ios` - –ø—Ä–æ–¥–∞–∫—à–Ω iOS
- `npm run mobile:build:android` - –ø—Ä–æ–¥–∞–∫—à–Ω Android
- `npm run mobile:build:all` - –ø—Ä–æ–¥–∞–∫—à–Ω –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –ü—É–±–ª–∏–∫–∞—Ü–∏—è:
- `npm run mobile:submit:ios` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤ App Store
- `npm run mobile:submit:android` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Google Play
- `npm run mobile:submit:all` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–∞ —Å—Ç–æ—Ä–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- `npm run safe-push` - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π push —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- `npm run check:branch` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- –°–º. BRANCH_STRATEGY.md –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –°–º. MOBILE_WORKFLOW.md –¥–ª—è –ø—Ä–∞–≤–∏–ª —Ä–∞–±–æ—Ç—ã


